function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired870;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired870=a);var o=a("AFyA5");a("kKZR4");var s,i=a("5Y3BN"),l=a("1CpbH"),c=a("1699B"),d=a("3ILHO"),u=a("fb9GJ"),f=(d=a("3ILHO"),a("6TDp9")),p=a("bnlKQ"),v=(l=a("1CpbH"),a("kKZR4")),L=a("bHKmf");function h(e,t,n){var r,a,o,s,i;function l(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(i=e.apply(o,a),o=a=null))}null==t&&(t=100);var c=function(){o=this,a=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(i=e.apply(o,a),o=a=null),i};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(i=e.apply(o,a),o=a=null,clearTimeout(r),r=null)},c}h.debounce=h,s=h;c=a("1699B");let m;async function R(e){const t=e.page;localStorage.setItem("page",t);const n=await(0,f.getBySearchName)(m,t),{results:r}=n.data;console.log(n.data);const a=(0,l.getGenreOptions)()??[],o=(0,p.makeMovieList)(r,a);d.listRef.innerHTML=o,document.documentElement.scrollTo({top:0,behavior:"smooth"})}d.searchFormRef.addEventListener("submit",(async function(t){if(t.preventDefault(),m=t.currentTarget.searchQuery.value.trim(),(0,L.startSpinner)(),!m)return void(0,L.stopSpinner)();const n=await(0,f.getBySearchName)(m),{results:r,total_results:a}=n.data,o=(0,v.makePaginationOptions)(a);if(0===r.length)return d.errorRef.classList.add("show-error"),setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3),void(0,L.stopSpinner)();(0,L.stopSpinner)(),d.errorRef.classList.remove("show-error");const s=(0,l.getGenreOptions)()??[],i=(0,p.makeMovieList)(r,s);d.listRef.innerHTML=i,d.searchListRef.innerHTML="";try{v.pagination.reset(),v.pagination.off("afterMove",v.updateMoviesList);const t=new(e(u))(d.paginationContainer,o);t.off("afterMove",R),t.on("afterMove",R)}catch(e){console.log(e)}})),d.searchInputRef.addEventListener("input",(0,s.debounce)((async function(e){if(d.searchListRef.classList.remove("visually-hidden"),d.searchListRef.innerHTML="",d.backdropRef.style.display="block",m=e.target.value.trim(),!m)return void d.searchListRef.classList.add("visually-hidden");const t=await(0,f.getBySearchName)(m),{results:n}=t.data;if(0===n.length)return d.errorRef.classList.add("show-error"),void setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3);d.searchListRef.insertAdjacentHTML("beforeend",function(e){let t="";return e.forEach((({title:e,id:n,release_date:r})=>t+=`<li class="search-list-item" data-id=${n}>${e} <span class="release-date">(${r?r.slice(0,4):"no info"})</span></li>`)),t}(n.slice(0,5)))}),500)),d.searchListRef.addEventListener("click",c.openMovieInfo),d.cleanButtonRef.addEventListener("click",(function(){d.searchInputRef.value=" ",d.searchListRef.innerHTML=""})),a("57NIG"),a("kKZR4"),a("1TldD");var g=a("aOITw");o=a("AFyA5");document.addEventListener("DOMContentLoaded",(()=>{(0,l.setGenreOptions)(),(0,i.moviesListMarkupFirstRender)(),d.listRef.addEventListener("click",(e=>{d.backdropRef.style.display="block",(0,c.openMovieInfo)(e)})),g.btnUp.addEventListener(),(0,o.darkmode)()}));
//# sourceMappingURL=index.85fa7ccc.js.map
