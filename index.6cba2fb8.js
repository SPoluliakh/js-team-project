function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired870;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired870=o);var s=o("AFyA5");o("kKZR4");var a,i=o("5Y3BN"),l=o("1CpbH"),c=o("1699B"),d=o("3ILHO"),u=o("fb9GJ"),f=(d=o("3ILHO"),o("6TDp9")),p=o("bnlKQ"),v=(l=o("1CpbH"),o("kKZR4")),L=o("bHKmf");function h(e,t,r){var n,o,s,a,i;function l(){var c=Date.now()-a;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,r||(i=e.apply(s,o),s=o=null))}null==t&&(t=100);var c=function(){s=this,o=arguments,a=Date.now();var c=r&&!n;return n||(n=setTimeout(l,t)),c&&(i=e.apply(s,o),s=o=null),i};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(i=e.apply(s,o),s=o=null,clearTimeout(n),n=null)},c}h.debounce=h,a=h;c=o("1699B");let m;async function R(e){const t=e.page;localStorage.setItem("page",t);const r=await(0,f.getBySearchName)(m,t),{results:n}=r.data;console.log(r.data);const o=(0,l.getGenreOptions)()??[],s=(0,p.makeMovieList)(n,o);d.listRef.innerHTML=s,document.documentElement.scrollTo({top:0,behavior:"smooth"})}o("5Y3BN"),d.searchFormRef.addEventListener("submit",(async function(t){if(t.preventDefault(),m=t.currentTarget.searchQuery.value.trim(),(0,L.startSpinner)(),!m)return d.errorRef.classList.add("show-error"),setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3),void(0,L.stopSpinner)();const r=await(0,f.getBySearchName)(m),{results:n,total_results:o}=r.data,s=(0,v.makePaginationOptions)(o);if(0===n.length)return d.errorRef.classList.add("show-error"),setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3),void(0,L.stopSpinner)();(0,L.stopSpinner)(),d.errorRef.classList.remove("show-error");const a=(0,l.getGenreOptions)()??[],i=(0,p.makeMovieList)(n,a);d.listRef.innerHTML=i,d.searchListRef.innerHTML="";try{v.pagination.reset(),v.pagination.off("afterMove",v.updateMoviesList);const t=new(e(u))(d.paginationContainer,s);t.off("afterMove",R),t.on("afterMove",R)}catch(e){console.log(e)}})),d.searchInputRef.addEventListener("input",(0,a.debounce)((async function(e){if(d.searchListRef.classList.remove("visually-hidden"),d.searchListRef.innerHTML="",d.backdropRef.style.display="block",m=e.target.value.trim(),!m)return void d.searchListRef.classList.add("visually-hidden");const t=await(0,f.getBySearchName)(m),{results:r}=t.data;if(0===r.length)return d.errorRef.classList.add("show-error"),void setTimeout((()=>{d.errorRef.classList.remove("show-error")}),3e3);d.searchListRef.insertAdjacentHTML("beforeend",function(e){let t="";return e.forEach((({title:e,id:r,release_date:n})=>t+=`<li class="search-list-item" data-id=${r}>${e} <span class="release-date">(${n?n.slice(0,4):"no info"})</span></li>`)),t}(r.slice(0,5)))}),700)),d.searchListRef.addEventListener("click",c.openMovieInfo),o("57NIG"),o("kKZR4"),o("1TldD");var g=o("aOITw");s=o("AFyA5");document.addEventListener("DOMContentLoaded",(()=>{(0,l.setGenreOptions)(),(0,i.moviesListMarkupFirstRender)(),d.listRef.addEventListener("click",(e=>{d.backdropRef.style.display="block",(0,c.openMovieInfo)(e)})),g.btnUp.addEventListener(),(0,s.darkmode)()}));
//# sourceMappingURL=index.6cba2fb8.js.map
