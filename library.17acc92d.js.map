{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,uCAKMC,EAAaC,SAASC,cAAc,mBACpCC,EAAWF,SAASC,cAAc,iBAClCE,EAAMH,SAASC,cAAc,cAatB,SAAJG,EAAaC,GAElBN,EAAWO,UAAUC,IAAI,iBACzBL,EAASI,UAAUE,OAAO,iBAE1B,IAAMC,GAAqB,EAAAZ,EAAAa,mBAE3B,GAAkC,OAA9BD,EAAmBE,OAAiB,CAEpCC,EAoDI,gE,KAnDD,CACHC,EADyBC,EAAaL,G,EAsBrB,SAAhBK,EAAaC,GAuBlB,OAtBeA,EACdC,KACD,SAAAC,G,IACIC,EAAWD,EAAXC,YACAC,EAAKF,EAALE,MAGAC,GAFSH,EAATI,UACYJ,EAAZK,aACEL,EAAFG,I,MACE,mCAENG,OAFyCH,EAAG,6CAKnCG,OAHTL,EACM,uCAAmDK,OAAZL,GACvC,GAAOK,OAAJC,KACR,UAA2BD,OAAnBJ,EAAM,eAC0BI,OADbH,EAAG,oDAESG,OADCH,EAAG,kDACGG,OAAPH,EAAG,MAAUG,OAANJ,EAAM,+B,IAMpDM,KAAK,G,CAYV,SAASZ,EAAWa,GAChBC,EAAAC,QAAQC,UAAYH,C,CAExB,SAASd,EAAgBc,GACrBvB,EAAI0B,UAAYH,C,CAlFpBI,QAAQC,IAAI5B,GACZJ,EAAWiC,iBAAiB,QAAS5B,GACrCF,EAAS8B,iBAAiB,SAyB1B,SAAoB3B,GAEhBH,EAASI,UAAUC,IAAI,iBACvBR,EAAWO,UAAUE,OAAO,iBAE5B,IAAMyB,GAAoB,EAAApC,EAAAqC,iBAE1B,GAA0B,OAAtBD,EAA4B,CAE5BrB,EAqCI,gE,KApCD,CACHC,EADyBC,EAAamB,G,KA9Bd7B,G","sources":["src/js/functions/render-lib-page.js"],"sourcesContent":["import { getWatchedItems } from './local-storage';\nimport { getQueueItems } from './local-storage';\nimport { getGenreOptions } from './local-storage';\nimport { listRef } from '../refs/refs'\n\nconst watchedBtn = document.querySelector('.watched-button')\nconst queueBtn = document.querySelector('.queue-button')\nconst div = document.querySelector('.empty-lib')\nconsole.log(div);\nwatchedBtn.addEventListener('click', onWatchedBtn)\nqueueBtn.addEventListener('click', onQueueBtn)\n\n\n// рендер фильмов при открытии страницы\n\nonWatchedBtn()\n\n\n// наажтие кнопок\n\nfunction onWatchedBtn(e) { \n\n    watchedBtn.classList.add(\"active-button\")\n    queueBtn.classList.remove(\"active-button\")\n\n    const localStorageWathed = getWatchedItems();\n\n    if (localStorageWathed.length === null) {\n        let markupTorender = makeEmptyList();\n        makeEmptyRender(markupTorender);\n    } else {let markupTorender = makeFilmCard(localStorageWathed);\n        makeRender(markupTorender);}\n    \n}\n\nfunction onQueueBtn(e) { \n\n    queueBtn.classList.add(\"active-button\")\n    watchedBtn.classList.remove(\"active-button\")\n\n    const localStorageQueue = getQueueItems();\n    \n    if (localStorageQueue === null) {\n        let markupTorender = makeEmptyList();\n        makeEmptyRender(markupTorender);\n    } else {let markupTorender = makeFilmCard(localStorageQueue);\n        makeRender(markupTorender)}\n    \n}\n\n// создание карточки с фильмами\n\nfunction makeFilmCard(films) {\n    const murkup = films\n    .map(\n    ({\n        poster_path,\n        title,\n        genre_ids,\n        release_date,\n        id,\n    }) => `<li class=\"movie-card\" data-id=\"${id}\">\n    <img class=\"movie-card__img\" src=${\n    poster_path\n        ? `https://image.tmdb.org/t/p/original/${poster_path}`\n        : `${img}`\n    } alt=\"${title}\" data-id=\"${id}\"/>\n    <div class=\"movie-card__info\" data-id=\"${id}\">\n    <h2 class=\"movie-card__title\"data-id=\"${id}\">${title}</h2>\n\n    </div>\n</li>\n`\n    )\n    .join('');;\n    return murkup;\n}\n\n// создание заглушки если фильмы не выбраны\n\nfunction makeEmptyList() { \n    return `<p>unfortunately there are no movies added to the library</p>`\n}\n\n// рендер карточек на страницу\n\nfunction makeRender(markupTorender) {\n    listRef.innerHTML = markupTorender;\n}\nfunction makeEmptyRender(markupTorender) { \n    div.innerHTML = markupTorender\n}"],"names":["$lvC14","parcelRequire","$6d093f2b366e7b4a$var$watchedBtn","document","querySelector","$6d093f2b366e7b4a$var$queueBtn","$6d093f2b366e7b4a$var$div","$6d093f2b366e7b4a$var$onWatchedBtn","e","classList","add","remove","localStorageWathed","getWatchedItems","length","$6d093f2b366e7b4a$var$makeEmptyRender","$6d093f2b366e7b4a$var$makeRender","$6d093f2b366e7b4a$var$makeFilmCard","films","map","param","poster_path","title","id","genre_ids","release_date","concat","img","join","markupTorender","$cqmI4","listRef","innerHTML","console","log","addEventListener","localStorageQueue","getQueueItems"],"version":3,"file":"library.17acc92d.js.map"}