{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,yCAKA,MAAMC,EAAaC,SAASC,cAAc,mBACpCC,EAAWF,SAASC,cAAc,iBAClCE,EAAMH,SAASC,cAAc,cAyCV,SAAhBG,EAAaC,EAAOR,EAAAS,iBAC3B,IACE,MAAMC,GAAqB,EAAAV,EAAAS,mBAEvBC,GAAoBC,OAAS,IAC/BC,QAAQC,IAAIH,EAAmBC,OAAS,GACxCL,EAAIQ,UAAUC,IAAI,oBAEpB,MAAMC,EAASR,KAAU,GACnBS,GAAY,EAAAC,EAAAC,sBAAqBH,GACvCI,EAAAC,QAAQC,UAAYL,C,CACpB,MAAOM,GACPX,QAAQC,IAAIU,E,EAnDhBlB,EAASmB,iBAAiB,SAsB1B,WACEnB,EAASS,UAAUC,IAAI,iBACvBb,EAAWY,UAAUW,OAAO,kBAEF,EAAAzB,EAAA0B,kBAEHf,OAAS,GAC9BL,EAAIQ,UAAUC,IAAI,mBAClBR,EAAaP,EAAA0B,iBAEbN,EAAAC,QAAQC,UAAY,GACpBhB,EAAIQ,UAAUW,OAAO,mB,IAhCzBvB,EAAWsB,iBAAiB,SAOf,WACXtB,EAAWY,UAAUC,IAAI,iBACzBV,EAASS,UAAUW,OAAO,iBAC1B,MAAMf,GAAqB,EAAAV,EAAAS,mBACvBC,GAAoBC,OAAS,GAC/BC,QAAQC,IAAIH,EAAmBC,OAAS,GACxCL,EAAIQ,UAAUC,IAAI,mBAClBR,EAAaP,EAAAS,mBAEbW,EAAAC,QAAQC,UAAY,GACpBhB,EAAIQ,UAAUW,OAAO,mB,IAdOlB","sources":["src/js/functions/render-lib-page.js"],"sourcesContent":["import { getWatchedItems } from './local-storage';\nimport { getQueueItems } from './local-storage';\nimport { listRef } from '../refs/refs';\nimport { makeLibraryMovieList } from '../components/movie-cards';\n\nconst watchedBtn = document.querySelector('.watched-button');\nconst queueBtn = document.querySelector('.queue-button');\nconst div = document.querySelector('.empty-lib');\n// watchedBtn.addEventListener('click', onWatchedBtn);\nqueueBtn.addEventListener('click', onQueueBtn);\nwatchedBtn.addEventListener('click', onWatchedBtn);\n// рендер фильмов при открытии страницы\n\nmakeFilmCard();\n\n// наажтие кнопок\n\nfunction onWatchedBtn() {\n  watchedBtn.classList.add('active-button');\n  queueBtn.classList.remove('active-button');\n  const localStorageWathed = getWatchedItems();\n  if (localStorageWathed?.length > 0) {\n    console.log(localStorageWathed.length > 0);\n    div.classList.add('visually-hidden');\n    makeFilmCard(getWatchedItems);\n  } else {\n    listRef.innerHTML = '';\n    div.classList.remove('visually-hidden');\n  }\n}\n\nfunction onQueueBtn() {\n  queueBtn.classList.add('active-button');\n  watchedBtn.classList.remove('active-button');\n\n  const localStorageQueue = getQueueItems();\n\n  if (localStorageQueue?.length > 0) {\n    div.classList.add('visually-hidden');\n    makeFilmCard(getQueueItems);\n  } else {\n    listRef.innerHTML = '';\n    div.classList.remove('visually-hidden');\n  }\n}\n\n// создание карточки с фильмами\n\nfunction makeFilmCard(data = getWatchedItems) {\n  try {\n    const localStorageWathed = getWatchedItems();\n\n    if (localStorageWathed?.length > 0) {\n      console.log(localStorageWathed.length > 0);\n      div.classList.add('visually-hidden');\n    }\n    const movies = data() ?? [];\n    const movieList = makeLibraryMovieList(movies);\n    listRef.innerHTML = movieList;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// создание заглушки если фильмы не выбраны\n\nfunction makeEmptyList() {\n  return `<p>unfortunately there are no movies added to the library</p>`;\n}\n"],"names":["$1CpbH","parcelRequire","$bf3051b68907bb1c$var$watchedBtn","document","querySelector","$bf3051b68907bb1c$var$queueBtn","$bf3051b68907bb1c$var$div","$bf3051b68907bb1c$var$makeFilmCard","data","getWatchedItems","localStorageWathed","length","console","log","classList","add","movies","movieList","$bnlKQ","makeLibraryMovieList","$3ILHO","listRef","innerHTML","err","addEventListener","remove","getQueueItems"],"version":3,"file":"library.2eba499a.js.map"}