{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAKA,MAAMC,EAAaC,SAASC,cAAc,mBACpCC,EAAWF,SAASC,cAAc,iBAClCE,EAAMH,SAASC,cAAc,cAatB,SAAJG,EAAaC,GAElBN,EAAWO,UAAUC,IAAI,iBACzBL,EAASI,UAAUE,OAAO,iBAE1B,MAAMC,GAAqB,EAAAZ,EAAAa,mBAE3B,GAAkC,OAA9BD,EAAmBE,OAAiB,CAEpCC,EADqBC,I,KAElB,CACHC,EADyBC,EAAaN,G,EAsBrB,SAAhBM,EAAaC,GAuBlB,OAtBeA,EACdC,KACD,EAACC,YACGA,EAAWC,MACXA,EAAKC,UACLA,EAASC,aACTA,EAAYC,GACZA,KACE,mCAAmCA,6CAEzCJ,EACM,uCAAuCA,IACvC,GAAGK,cACAJ,eAAmBG,oDACaA,kDACDA,MAAOH,kCAM9CK,KAAK,G,CAMyB,SAA1BX,IACL,MAAO,+D,CAKX,SAASC,EAAWW,GAChBC,EAAAC,QAAQC,UAAYH,C,CAExB,SAASb,EAAgBa,GACrBtB,EAAIyB,UAAYH,C,CAlFpBI,QAAQC,IAAI3B,GACZJ,EAAWgC,iBAAiB,QAAS3B,GACrCF,EAAS6B,iBAAiB,SAyB1B,SAAoB1B,GAEhBH,EAASI,UAAUC,IAAI,iBACvBR,EAAWO,UAAUE,OAAO,iBAE5B,MAAMwB,GAAoB,EAAAnC,EAAAoC,iBAE1B,GAA0B,OAAtBD,EAA4B,CAE5BpB,EADqBC,I,KAElB,CACHC,EADyBC,EAAaiB,G,KA9Bd5B","sources":["src/js/functions/render-lib-page.js"],"sourcesContent":["import { getWatchedItems } from './local-storage';\nimport { getQueueItems } from './local-storage';\nimport { getGenreOptions } from './local-storage';\nimport { listRef } from '../refs/refs'\n\nconst watchedBtn = document.querySelector('.watched-button')\nconst queueBtn = document.querySelector('.queue-button')\nconst div = document.querySelector('.empty-lib')\nconsole.log(div);\nwatchedBtn.addEventListener('click', onWatchedBtn)\nqueueBtn.addEventListener('click', onQueueBtn)\n\n\n// рендер фильмов при открытии страницы\n\nonWatchedBtn()\n\n\n// наажтие кнопок\n\nfunction onWatchedBtn(e) { \n\n    watchedBtn.classList.add(\"active-button\")\n    queueBtn.classList.remove(\"active-button\")\n\n    const localStorageWathed = getWatchedItems();\n\n    if (localStorageWathed.length === null) {\n        let markupTorender = makeEmptyList();\n        makeEmptyRender(markupTorender);\n    } else {let markupTorender = makeFilmCard(localStorageWathed);\n        makeRender(markupTorender);}\n    \n}\n\nfunction onQueueBtn(e) { \n\n    queueBtn.classList.add(\"active-button\")\n    watchedBtn.classList.remove(\"active-button\")\n\n    const localStorageQueue = getQueueItems();\n    \n    if (localStorageQueue === null) {\n        let markupTorender = makeEmptyList();\n        makeEmptyRender(markupTorender);\n    } else {let markupTorender = makeFilmCard(localStorageQueue);\n        makeRender(markupTorender)}\n    \n}\n\n// создание карточки с фильмами\n\nfunction makeFilmCard(films) {\n    const murkup = films\n    .map(\n    ({\n        poster_path,\n        title,\n        genre_ids,\n        release_date,\n        id,\n    }) => `<li class=\"movie-card\" data-id=\"${id}\">\n    <img class=\"movie-card__img\" src=${\n    poster_path\n        ? `https://image.tmdb.org/t/p/original/${poster_path}`\n        : `${img}`\n    } alt=\"${title}\" data-id=\"${id}\"/>\n    <div class=\"movie-card__info\" data-id=\"${id}\">\n    <h2 class=\"movie-card__title\"data-id=\"${id}\">${title}</h2>\n\n    </div>\n</li>\n`\n    )\n    .join('');;\n    return murkup;\n}\n\n// создание заглушки если фильмы не выбраны\n\nfunction makeEmptyList() { \n    return `<p>unfortunately there are no movies added to the library</p>`\n}\n\n// рендер карточек на страницу\n\nfunction makeRender(markupTorender) {\n    listRef.innerHTML = markupTorender;\n}\nfunction makeEmptyRender(markupTorender) { \n    div.innerHTML = markupTorender\n}"],"names":["$1CpbH","parcelRequire","$bf3051b68907bb1c$var$watchedBtn","document","querySelector","$bf3051b68907bb1c$var$queueBtn","$bf3051b68907bb1c$var$div","$bf3051b68907bb1c$var$onWatchedBtn","e","classList","add","remove","localStorageWathed","getWatchedItems","length","$bf3051b68907bb1c$var$makeEmptyRender","$bf3051b68907bb1c$var$makeEmptyList","$bf3051b68907bb1c$var$makeRender","$bf3051b68907bb1c$var$makeFilmCard","films","map","poster_path","title","genre_ids","release_date","id","img","join","markupTorender","$3ILHO","listRef","innerHTML","console","log","addEventListener","localStorageQueue","getQueueItems"],"version":3,"file":"library.20bcb7c6.js.map"}