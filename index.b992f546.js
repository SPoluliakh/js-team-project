!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=r.parcelRequired870;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,r.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){t[e]=r},r.parcelRequired870=i);var s=i("5p8r0");i("1GZuu");var a=i("jgLRi"),o=i("lvC14"),c=i("cP0sx"),l=i("cqmI4"),u=i("bpxeT"),d=i("2TvXO"),v=i("1VFfL"),f=(l=i("cqmI4"),i("eopHt")),p=i("dYN6e"),h=(o=i("lvC14"),i("1GZuu"));function m(){document.querySelector("main").insertAdjacentHTML("afterbegin",' <div class="container__spinner"><h2>Looking for the best options</h2>  <div class="wrapper"><div class="loader"><div class="spinner"></div>            </div><div class="loader"><div class="spinner"></div></div><div class="loader"> <div class="spinner"></div></div><div class="loader"><div class="spinner"></div></div><div class="loader"><div class="spinner"></div></div> <div class="loader"><div class="spinner"></div></div><div class="loader"><div class="spinner"></div></div><div class="loader"><div class="spinner"></div></div></div></div>')}function L(){document.querySelector("main").removeChild(document.querySelector(".container__spinner"))}var g;function w(e,r,n){var t,i,s,a,o;function c(){var l=Date.now()-a;l<r&&l>=0?t=setTimeout(c,r-l):(t=null,n||(o=e.apply(s,i),s=i=null))}null==r&&(r=100);var l=function(){s=this,i=arguments,a=Date.now();var l=n&&!t;return t||(t=setTimeout(c,r)),l&&(o=e.apply(s,i),s=i=null),o};return l.clear=function(){t&&(clearTimeout(t),t=null)},l.flush=function(){t&&(o=e.apply(s,i),s=i=null,clearTimeout(t),t=null)},l}w.debounce=w,g=w;var y;c=i("cP0sx");function R(){return(R=e(u)(e(d).mark((function r(n){var t,i,s,a,c,u,g,w,R;return e(d).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),y=n.currentTarget.searchQuery.value.trim(),m(),y){r.next=8;break}return l.errorRef.classList.add("show-error"),setTimeout((function(){l.errorRef.classList.remove("show-error")}),3e3),L(),r.abrupt("return");case 8:return r.next=10,(0,f.getBySearchName)(y);case 10:if(t=r.sent,i=t.data,s=i.results,a=i.total_results,c=(0,h.makePaginationOptions)(a),0!==s.length){r.next=18;break}return l.errorRef.classList.add("show-error"),setTimeout((function(){l.errorRef.classList.remove("show-error")}),3e3),L(),r.abrupt("return");case 18:L(),l.errorRef.classList.remove("show-error"),g=null!==(u=(0,o.getGenreOptions)())&&void 0!==u?u:[],w=(0,p.makeMovieList)(s,g),l.listRef.innerHTML=w,l.searchListRef.innerHTML="";try{h.pagination.reset(),h.pagination.off("afterMove",h.updateMoviesList),(R=new(e(v))(l.paginationContainer,c)).off("afterMove",b),R.on("afterMove",b)}catch(e){console.log(e)}case 26:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=e(u)(e(d).mark((function r(n){var t,i,s,a,c,u;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,localStorage.setItem("page",t),e.next=4,(0,f.getBySearchName)(y,t);case 4:i=e.sent,s=i.data.results,console.log(i.data),c=null!==(a=(0,o.getGenreOptions)())&&void 0!==a?a:[],u=(0,p.makeMovieList)(s,c),l.listRef.innerHTML=u,document.documentElement.scrollTo({top:0,behavior:"smooth"});case 12:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function x(){return(x=e(u)(e(d).mark((function r(n){var t,i;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.searchListRef.classList.remove("visually-hidden"),l.searchListRef.innerHTML="",y=n.target.value.trim()){e.next=6;break}return l.searchListRef.classList.add("visually-hidden"),e.abrupt("return");case 6:return e.next=8,(0,f.getBySearchName)(y);case 8:if(t=e.sent,0!==(i=t.data.results).length){e.next=14;break}return l.errorRef.classList.add("show-error"),setTimeout((function(){l.errorRef.classList.remove("show-error")}),3e3),e.abrupt("return");case 14:l.searchListRef.insertAdjacentHTML("beforeend",M(i.slice(0,5)));case 15:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function M(e){var r="";return e.forEach((function(e){var n=e.title,t=e.id,i=e.release_date;return r+='<li class="search-list-item" data-id='.concat(t,">").concat(n,' <span class="release-date">(').concat(i?i.slice(0,4):"no info",")</span></li>")})),r}i("jgLRi"),l.searchFormRef.addEventListener("submit",(function(e){return R.apply(this,arguments)})),l.searchInputRef.addEventListener("input",(0,g.debounce)((function(e){return x.apply(this,arguments)}),700)),l.searchListRef.addEventListener("click",c.openMovieInfo),i("1GZuu"),i("a4V2g");var k=i("9iAID");s=i("5p8r0");document.addEventListener("DOMContentLoaded",(function(){(0,o.setGenreOptions)(),(0,a.moviesListMarkupFirstRender)(),l.listRef.addEventListener("click",c.openMovieInfo),k.btnUp.addEventListener(),(0,s.darkmode)()}))}();
//# sourceMappingURL=index.b992f546.js.map
